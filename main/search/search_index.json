{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pulumi-extra","text":"<p>Extra Pulumi utils and resources.</p>"},{"location":"api-references/","title":"Core","text":""},{"location":"api-references/#pulumi_extra.resource_","title":"<code>pulumi_extra.resource_</code>","text":"<p>Utility functions for working with Pulumi resources.</p> <p>References: - https://github.com/tlinhart/pulumi-aws-tags</p>"},{"location":"api-references/#pulumi_extra.resource_.get_resource_cls","title":"<code>get_resource_cls(resource_type)</code>  <code>cached</code>","text":"<p>Get the Pulumi resource class for a given resource type.</p> <p>Parameters:</p> Name Type Description Default <code>resource_type</code> <code>str</code> <p>Resource type to get the class for.</p> required <p>Returns:</p> Type Description <code>Any | None</code> <p>Pulumi resource class if found, otherwise <code>None</code>.</p> Source code in <code>pulumi_extra/resource_.py</code> <pre><code>@cache\ndef get_resource_cls(resource_type: str) -&gt; Any | None:\n    \"\"\"Get the Pulumi resource class for a given resource type.\n\n    Args:\n        resource_type: Resource type to get the class for.\n\n    Returns:\n        Pulumi resource class if found, otherwise `None`.\n\n    \"\"\"\n    try:\n        _, resource = next(filter(lambda k: k[0] == resource_type, _get_resources()))\n    except StopIteration:\n        pulumi.log.debug(f\"Resource type {resource_type} not found\")\n        return None\n\n    module_name, class_name = resource\n    module = import_module(module_name)\n    return getattr(module, class_name)\n</code></pre>"},{"location":"api-references/#pulumi_extra.resource_.resource_has_attribute","title":"<code>resource_has_attribute(resource_type, attribute)</code>  <code>cached</code>","text":"<p>Determine if a given GCP resource type is labelable.</p> Source code in <code>pulumi_extra/resource_.py</code> <pre><code>@cache\ndef resource_has_attribute(resource_type: str, attribute: str) -&gt; bool:\n    \"\"\"Determine if a given GCP resource type is labelable.\"\"\"\n    cls = get_resource_cls(resource_type)\n    if cls is None:\n        msg = f\"Unable to resolve resource type {resource_type!r}\"\n        raise UnknownResourceTypeError(msg)\n\n    sig = signature(cls._internal_init)\n    return attribute in sig.parameters\n</code></pre>"},{"location":"api-references/#pulumi_extra.stack_reference","title":"<code>pulumi_extra.stack_reference</code>","text":"<p>Utils for stack references.</p>"},{"location":"api-references/#pulumi_extra.stack_reference.get_stack_outputs","title":"<code>get_stack_outputs(*refs)</code>","text":"<pre><code>get_stack_outputs(ref: str) -&gt; pulumi.Output[Any]\n</code></pre><pre><code>get_stack_outputs(*refs: str) -&gt; list[pulumi.Output[Any]]\n</code></pre> <p>Get outputs from a output reference shorthands. Supports brace expansion.</p> <ul> <li>Single output reference: (<code>\"&lt;stack_ref&gt;:&lt;output_key&gt;\"</code>).</li> <li>Multiple outputs using brace expansion: (<code>\"&lt;stack_ref&gt;:{&lt;output_key_1&gt;,&lt;output_key_2&gt;}\"</code>).</li> </ul> <p>Parameters:</p> Name Type Description Default <code>*refs</code> <code>str</code> <p>Output references.</p> <code>()</code> Source code in <code>pulumi_extra/stack_reference.py</code> <pre><code>def get_stack_outputs(  # type: ignore[misc]\n    *refs: str,\n) -&gt; pulumi.Output[Any] | list[pulumi.Output[Any]]:\n    \"\"\"Get outputs from a output reference shorthands. Supports brace expansion.\n\n    - Single output reference: (`\"&lt;stack_ref&gt;:&lt;output_key&gt;\"`).\n    - Multiple outputs using brace expansion: (`\"&lt;stack_ref&gt;:{&lt;output_key_1&gt;,&lt;output_key_2&gt;}\"`).\n\n    Args:\n        *refs: Output references.\n\n    \"\"\"\n    outputs = _get_stack_outputs(*refs)\n    output_values = list(outputs.values())\n    if len(output_values) == 1:\n        return output_values[0]\n\n    return output_values\n</code></pre>"},{"location":"api-references/#pulumi_extra.stack_reference.get_stack_reference","title":"<code>get_stack_reference(ref)</code>  <code>cached</code>","text":"<p>Resolve given stack reference shorthand to fully qualified stack reference.</p> <p>The shorthand can be one of the following:</p> <ul> <li> <p><code>\"{stack}\"</code></p> <p>Returns the stack reference for the current project and organization.</p> </li> <li> <p><code>\"{project}/{stack}\"</code></p> <p>Returns the stack reference for the current organization.</p> </li> <li> <p><code>\"{organization}/{project}/{stack}\"</code></p> <p>No change is made to the stack reference.</p> </li> </ul> Source code in <code>pulumi_extra/stack_reference.py</code> <pre><code>@cache\ndef get_stack_reference(ref: str) -&gt; pulumi.StackReference:\n    \"\"\"Resolve given stack reference shorthand to fully qualified stack reference.\n\n    The shorthand can be one of the following:\n\n    - `\"{stack}\"`\n\n        Returns the stack reference for the current project and organization.\n\n    - `\"{project}/{stack}\"`\n\n        Returns the stack reference for the current organization.\n\n    - `\"{organization}/{project}/{stack}\"`\n\n        No change is made to the stack reference.\n\n    \"\"\"\n    fqr = _resolve_stack_ref(ref)\n    return pulumi.StackReference(fqr)\n</code></pre>"},{"location":"api-references/#pulumi_extra.stack_reference.re_export","title":"<code>re_export(*refs)</code>","text":"<p>Re-export outputs from a output reference shorthands.</p> <p>Parameters:</p> Name Type Description Default <code>*refs</code> <code>str</code> <p>Output references.</p> <code>()</code> Source code in <code>pulumi_extra/stack_reference.py</code> <pre><code>def re_export(*refs: str) -&gt; None:\n    \"\"\"Re-export outputs from a output reference shorthands.\n\n    Args:\n        *refs: Output references.\n\n    \"\"\"\n    outputs = _get_stack_outputs(*refs)\n    for (_, output_key), output in outputs.items():\n        pulumi.export(output_key, output)\n</code></pre>"},{"location":"api-references/#pulumi_extra.output","title":"<code>pulumi_extra.output</code>","text":"<p>Utils for outputs.</p>"},{"location":"api-references/#pulumi_extra.output.render_template","title":"<code>render_template(template, *, context=None, inputs=None)</code>","text":"<pre><code>render_template(\n    template: Path | str, *, context: Mapping[str, Any]\n) -&gt; str\n</code></pre><pre><code>render_template(\n    template: Path | str,\n    *,\n    inputs: Mapping[str, pulumi.Input[Any]],\n) -&gt; pulumi.Output[str]\n</code></pre> <p>Render a template file with the given context.</p> <p>Parameters:</p> Name Type Description Default <code>template</code> <code>Path | str</code> <p>The template file or inline template string.</p> required <code>context</code> <code>Mapping[str, Any] | None</code> <p>The context to render the template with. Conflicts with inputs.</p> <code>None</code> <code>inputs</code> <code>Mapping[str, Input[Any]] | None</code> <p>The inputs to render the template with. Conflicts with context.</p> <code>None</code> Source code in <code>pulumi_extra/output.py</code> <pre><code>def render_template(\n    template: Path | str,\n    *,\n    context: Mapping[str, Any] | None = None,\n    inputs: Mapping[str, pulumi.Input[Any]] | None = None,\n) -&gt; str | pulumi.Output[str]:\n    \"\"\"Render a template file with the given context.\n\n    Args:\n        template: The template file or inline template string.\n        context: The context to render the template with. Conflicts with inputs.\n        inputs: The inputs to render the template with. Conflicts with context.\n    \"\"\"\n    if isinstance(template, Path):\n        template = template.read_text()\n\n    jinja_tpl = Template(template, undefined=StrictUndefined)\n\n    # Render with Python values.\n    if context is not None and inputs is None:\n        return jinja_tpl.render(context)\n\n    # Render with Pulumi inputs.\n    if context is None and inputs is not None:\n        return pulumi.Output.all(inputs).apply(lambda args: jinja_tpl.render(args[0]))\n\n    # Only one of context or inputs must be provided.\n    msg = \"Either context or input must be provided.\"\n    raise ValueError(msg)\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms","title":"<code>pulumi_extra.transforms</code>","text":""},{"location":"api-references/#pulumi_extra.transforms.override_default_provider","title":"<code>override_default_provider(*rt_or_it, provider)</code>","text":"<p>Override the default provider for resources and invokes of given types.</p> <p>Parameters:</p> Name Type Description Default <code>*rt_or_it</code> <code>str</code> <p>Resource types or invoke tokens to match.</p> <code>()</code> <code>provider</code> <code>ProviderResource</code> <p>Provider to override.</p> required Source code in <code>pulumi_extra/transforms/runtime.py</code> <pre><code>def override_default_provider(\n    *rt_or_it: str,\n    provider: pulumi.ProviderResource,\n) -&gt; None:\n    \"\"\"Override the default provider for resources and invokes of given types.\n\n    Args:\n        *rt_or_it: Resource types or invoke tokens to match.\n        provider: Provider to override.\n\n    \"\"\"\n    pulumi.runtime.register_resource_transform(override_resource_options(*rt_or_it, provider=provider))\n    pulumi.runtime.register_invoke_transform(override_invoke_options(*rt_or_it, provider=provider))\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_invoke","title":"<code>override_invoke(*invoke_tokens, args=None, opts=None)</code>","text":"<p>Pulumi transform factory for invoke tokens (<code>get_*</code>).</p> <p>Parameters:</p> Name Type Description Default <code>*invoke_tokens</code> <code>str</code> <p>Invoke tokens to match. Supports glob patterns and brace expand.</p> <code>()</code> <code>args</code> <code>_Args | Callable[[_Args], _Args] | None</code> <p>Invoke arguments to override, or a callable that returns the new arguments from given <code>args.args</code> input.</p> <code>None</code> <code>opts</code> <code>InvokeOptions | Callable[[InvokeOptions], InvokeOptions] | None</code> <p>Invoke options to override, or a callable that returns the new options given <code>args.opts</code> input.</p> <code>None</code> Source code in <code>pulumi_extra/transforms/invoke.py</code> <pre><code>def override_invoke(\n    *invoke_tokens: str,\n    args: _Args | Callable[[_Args], _Args] | None = None,\n    opts: pulumi.InvokeOptions | Callable[[pulumi.InvokeOptions], pulumi.InvokeOptions] | None = None,\n) -&gt; pulumi.InvokeTransform:\n    \"\"\"Pulumi transform factory for invoke tokens (`get_*`).\n\n    Args:\n        *invoke_tokens: Invoke tokens to match. Supports glob patterns and brace expand.\n        args: Invoke arguments to override, or a callable that returns the new arguments from given `args.args` input.\n        opts: Invoke options to override, or a callable that returns the new options given `args.opts` input.\n\n    \"\"\"\n    args_ = args\n\n    def transform(args: pulumi.InvokeTransformArgs) -&gt; pulumi.InvokeTransformResult | None:\n        nonlocal args_, opts\n\n        for it in chain.from_iterable(map(braceexpand, invoke_tokens)):\n            if not fnmatch(args.token, it):\n                continue\n\n            # Transform invoke arguments\n            if TYPE_CHECKING:\n                assert isinstance(args.args, dict)\n\n            if callable(args_):  # noqa: SIM108\n                new_args = args_(args.args)\n            else:\n                new_args = args.args | args_ if args_ is not None else args.args\n\n            # Transform invoke options\n            new_opts = opts(args.opts) if callable(opts) else (opts or pulumi.InvokeOptions())\n            new_opts = pulumi.InvokeOptions.merge(args.opts, new_opts)\n\n            return pulumi.InvokeTransformResult(args=new_args, opts=new_opts)\n\n        return None\n\n    return transform\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_invoke_defaults","title":"<code>override_invoke_defaults(*invoke_tokens, defaults)</code>","text":"<p>Pulumi transform factory that provides default arguments to matching invoke tokens.</p> <p>Parameters:</p> Name Type Description Default <code>*invoke_tokens</code> <code>str</code> <p>Invoke tokens to match.</p> <code>()</code> <code>defaults</code> <code>dict[str, Any]</code> <p>Default arguments.</p> required Source code in <code>pulumi_extra/transforms/invoke.py</code> <pre><code>def override_invoke_defaults(*invoke_tokens: str, defaults: dict[str, Any]) -&gt; pulumi.InvokeTransform:\n    \"\"\"Pulumi transform factory that provides default arguments to matching invoke tokens.\n\n    Args:\n        *invoke_tokens: Invoke tokens to match.\n        defaults: Default arguments.\n\n    \"\"\"\n    return override_invoke(\n        *invoke_tokens,\n        args=lambda args: defaults | args,\n    )\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_invoke_options","title":"<code>override_invoke_options(*invoke_tokens, **options)</code>","text":"<p>Pulumi transform factory that overrides the invoke options for matching invoke tokens.</p> <p>Parameters:</p> Name Type Description Default <code>*invoke_tokens</code> <code>str</code> <p>Invoke tokens to match.</p> <code>()</code> <code>options</code> <code>Any</code> <p>Arguments of <code>pulumi.InvokeOptions</code>.</p> <code>{}</code> Source code in <code>pulumi_extra/transforms/invoke.py</code> <pre><code>def override_invoke_options(*invoke_tokens: str, **options: Any) -&gt; pulumi.InvokeTransform:\n    \"\"\"Pulumi transform factory that overrides the invoke options for matching invoke tokens.\n\n    Args:\n        *invoke_tokens: Invoke tokens to match.\n        options: Arguments of `pulumi.InvokeOptions`.\n\n    \"\"\"\n    return override_invoke(\n        *invoke_tokens,\n        opts=pulumi.InvokeOptions(**options),\n    )\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_resource","title":"<code>override_resource(*resource_types, props=None, opts=None)</code>","text":"<p>Pulumi transform factory for resources.</p> <p>Parameters:</p> Name Type Description Default <code>*resource_types</code> <code>str</code> <p>Resource types to match. Supports glob patterns and brace expand.</p> <code>()</code> <code>props</code> <code>_Props | Callable[[_Props], _Props] | None</code> <p>Resource properties to override, or a callable that returns the new properties from given <code>args.props</code> input.</p> <code>None</code> <code>opts</code> <code>ResourceOptions | Callable[[ResourceOptions], ResourceOptions] | None</code> <p>Resource options to override, or a callable that returns the new options given <code>args.opts</code> input.</p> <code>None</code> Source code in <code>pulumi_extra/transforms/resource_.py</code> <pre><code>def override_resource(\n    *resource_types: str,\n    props: _Props | Callable[[_Props], _Props] | None = None,\n    opts: pulumi.ResourceOptions | Callable[[pulumi.ResourceOptions], pulumi.ResourceOptions] | None = None,\n) -&gt; pulumi.ResourceTransform:\n    \"\"\"Pulumi transform factory for resources.\n\n    Args:\n        *resource_types: Resource types to match. Supports glob patterns and brace expand.\n        props: Resource properties to override, or a callable that returns the new properties from given `args.props` input.\n        opts: Resource options to override, or a callable that returns the new options given `args.opts` input.\n\n    \"\"\"  # noqa: E501\n\n    def transform(args: pulumi.ResourceTransformArgs) -&gt; pulumi.ResourceTransformResult | None:\n        nonlocal props, opts\n\n        for rt in chain.from_iterable(map(braceexpand, resource_types)):\n            if not fnmatch(args.type_, rt):\n                continue\n\n            # Transform resource properties\n            if TYPE_CHECKING:\n                assert isinstance(args.props, dict)\n\n            if callable(props):\n                new_props = props(args.props)\n            else:\n                new_props = args.props | props if props is not None else args.props\n\n            # Transform resource options\n            new_opts = opts(args.opts) if callable(opts) else (opts or pulumi.ResourceOptions())\n            new_opts = pulumi.ResourceOptions.merge(args.opts, new_opts)\n\n            return pulumi.ResourceTransformResult(props=new_props, opts=new_opts)\n\n        return None\n\n    return transform\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_resource_defaults","title":"<code>override_resource_defaults(*resource_types, defaults)</code>","text":"<p>Pulumi transform factory that provides default properties to matching resource types.</p> <p>Parameters:</p> Name Type Description Default <code>*resource_types</code> <code>str</code> <p>Resource type to match.</p> <code>()</code> <code>defaults</code> <code>dict[str, Input[Any]]</code> <p>Default properties.</p> required Source code in <code>pulumi_extra/transforms/resource_.py</code> <pre><code>def override_resource_defaults(\n    *resource_types: str,\n    defaults: dict[str, pulumi.Input[Any]],\n) -&gt; pulumi.ResourceTransform:\n    \"\"\"Pulumi transform factory that provides default properties to matching resource types.\n\n    Args:\n        *resource_types: Resource type to match.\n        defaults: Default properties.\n\n    \"\"\"\n    return override_resource(\n        *resource_types,\n        props=lambda props: defaults | props,\n    )\n</code></pre>"},{"location":"api-references/#pulumi_extra.transforms.override_resource_options","title":"<code>override_resource_options(*resource_types, **options)</code>","text":"<p>Pulumi transform factory that overrides the resource options for resources of given types.</p> <p>Parameters:</p> Name Type Description Default <code>*resource_types</code> <code>str</code> <p>Resource types to match.</p> <code>()</code> <code>options</code> <code>Any</code> <p>Arguments of <code>pulumi.ResourceOptions</code>.</p> <code>{}</code> Source code in <code>pulumi_extra/transforms/resource_.py</code> <pre><code>def override_resource_options(*resource_types: str, **options: Any) -&gt; pulumi.ResourceTransform:\n    \"\"\"Pulumi transform factory that overrides the resource options for resources of given types.\n\n    Args:\n        *resource_types: Resource types to match.\n        options: Arguments of `pulumi.ResourceOptions`.\n\n    \"\"\"\n    return override_resource(\n        *resource_types,\n        opts=pulumi.ResourceOptions(**options),\n    )\n</code></pre>"},{"location":"api-references/contrib/aws/","title":"AWS","text":""},{"location":"api-references/contrib/aws/#pulumi_extra.contrib.aws","title":"<code>pulumi_extra.contrib.aws</code>","text":""},{"location":"api-references/contrib/aws/#pulumi_extra.contrib.aws.is_aws_resource","title":"<code>is_aws_resource(resource_type)</code>","text":"<p>Determine if a given resource type is an AWS resource.</p> Source code in <code>pulumi_extra/contrib/aws/common.py</code> <pre><code>def is_aws_resource(resource_type: str) -&gt; bool:\n    \"\"\"Determine if a given resource type is an AWS resource.\"\"\"\n    return resource_type.startswith(\"aws:\")\n</code></pre>"},{"location":"api-references/contrib/aws/#pulumi_extra.contrib.aws.is_taggable","title":"<code>is_taggable(resource_type)</code>","text":"<p>Determine if a given AWS resource type is taggable.</p> Source code in <code>pulumi_extra/contrib/aws/autotag.py</code> <pre><code>def is_taggable(resource_type: str) -&gt; bool:\n    \"\"\"Determine if a given AWS resource type is taggable.\"\"\"\n    if not is_aws_resource(resource_type):\n        pulumi.log.debug(f\"Resource type {resource_type} is not a AWS resource\")\n        return False\n\n    if resource_type in _NOT_TAGGABLE_RESOURCES:\n        pulumi.log.info(\n            f\"Resource type {resource_type} is set not-taggable explicitly\",\n        )\n        return False\n\n    return resource_has_attribute(resource_type, \"tags\")\n</code></pre>"},{"location":"api-references/contrib/aws/#pulumi_extra.contrib.aws.register_auto_tagging","title":"<code>register_auto_tagging(*, exclude=None, extra=None)</code>","text":"<p>Register a Pulumi stack transform that automatically tags resources.</p> <p>Parameters:</p> Name Type Description Default <code>exclude</code> <code>set[str] | None</code> <p>Resources to exclude from tagging.</p> <code>None</code> <code>extra</code> <code>dict[str, str] | None</code> <p>Extra tags to add.</p> <code>None</code> Source code in <code>pulumi_extra/contrib/aws/autotag.py</code> <pre><code>def register_auto_tagging(\n    *,\n    exclude: set[str] | None = None,\n    extra: dict[str, str] | None = None,\n) -&gt; None:\n    \"\"\"Register a Pulumi stack transform that automatically tags resources.\n\n    Args:\n        exclude: Resources to exclude from tagging.\n        extra: Extra tags to add.\n    \"\"\"\n    tags = {}\n    extra = extra or {}\n    exclude = exclude or set()\n\n    # Pulumi tags\n    org = pulumi.get_organization()\n    project = pulumi.get_project()\n    stack = pulumi.get_stack()\n    tags.update(\n        {\n            \"pulumi:Organization\": org,\n            \"pulumi:Project\": project,\n            \"pulumi:Stack\": stack,\n            \"Managed-By\": \"Pulumi\",\n        },\n    )\n    tags.update(extra)\n\n    def transform(\n        args: pulumi.ResourceTransformArgs,\n    ) -&gt; pulumi.ResourceTransformResult | None:\n        if args.type_ not in exclude and is_taggable(args.type_):\n            if TYPE_CHECKING:\n                assert isinstance(args.props, dict)\n            args.props[\"tags\"] = {\n                **tags,\n                **(args.props.get(\"tags\", {})),\n            }\n            return pulumi.ResourceTransformResult(props=args.props, opts=args.opts)\n\n        return None\n\n    pulumi.runtime.register_resource_transform(transform)\n</code></pre>"},{"location":"api-references/contrib/gcp/","title":"GCP","text":""},{"location":"api-references/contrib/gcp/#pulumi_extra.contrib.gcp","title":"<code>pulumi_extra.contrib.gcp</code>","text":""},{"location":"api-references/contrib/gcp/#pulumi_extra.contrib.gcp.is_gcp_resource","title":"<code>is_gcp_resource(resource_type)</code>","text":"<p>Determine if a given resource type is an AWS resource.</p> Source code in <code>pulumi_extra/contrib/gcp/common.py</code> <pre><code>def is_gcp_resource(resource_type: str) -&gt; bool:\n    \"\"\"Determine if a given resource type is an AWS resource.\"\"\"\n    return resource_type.startswith(\"gcp:\")\n</code></pre>"},{"location":"api-references/contrib/gcp/#pulumi_extra.contrib.gcp.is_labelable","title":"<code>is_labelable(resource_type)</code>","text":"<p>Determine if a given GCP resource type is labelable.</p> Source code in <code>pulumi_extra/contrib/gcp/autolabel.py</code> <pre><code>def is_labelable(resource_type: str) -&gt; bool:\n    \"\"\"Determine if a given GCP resource type is labelable.\"\"\"\n    if not is_gcp_resource(resource_type):\n        pulumi.log.debug(f\"Resource type {resource_type} is not a GCP resource\")\n        return False\n\n    if resource_type in _NOT_LABELABLE_RESOURCES:\n        pulumi.log.info(\n            f\"Resource type {resource_type} is set not-labelable explicitly\",\n        )\n        return False\n\n    return resource_has_attribute(resource_type, \"labels\")\n</code></pre>"},{"location":"api-references/contrib/gcp/#pulumi_extra.contrib.gcp.register_auto_labeling","title":"<code>register_auto_labeling(*, exclude=None, extra=None)</code>","text":"<p>Register a Pulumi stack transform that automatically labels resources.</p> <p>Parameters:</p> Name Type Description Default <code>exclude</code> <code>set[str] | None</code> <p>Resources to exclude from labeling.</p> <code>None</code> <code>extra</code> <code>dict[str, str] | None</code> <p>Extra labels to add.</p> <code>None</code> Source code in <code>pulumi_extra/contrib/gcp/autolabel.py</code> <pre><code>def register_auto_labeling(\n    *,\n    exclude: set[str] | None = None,\n    extra: dict[str, str] | None = None,\n) -&gt; None:\n    \"\"\"Register a Pulumi stack transform that automatically labels resources.\n\n    Args:\n        exclude: Resources to exclude from labeling.\n        extra: Extra labels to add.\n    \"\"\"\n    labels = {}\n    extra = extra or {}\n    exclude = exclude or set()\n\n    # Pulumi labels\n    # NOTE: Labels transformed because of strict restrictions GCP enforces\n    org = pulumi.get_organization()\n    project = pulumi.get_project()\n    stack = pulumi.get_stack()\n    labels.update(\n        {\n            \"pulumi-organization\": org,\n            \"pulumi-project\": project.replace(\".\", \"-\"),\n            \"pulumi-stack\": stack,\n            \"managed-by\": \"pulumi\",\n        },\n    )\n    labels.update(extra)\n\n    def transform(\n        args: pulumi.ResourceTransformArgs,\n    ) -&gt; pulumi.ResourceTransformResult | None:\n        if args.type_ not in exclude and is_labelable(args.type_):\n            if TYPE_CHECKING:\n                assert isinstance(args.props, dict)\n            args.props[\"labels\"] = {\n                **labels,\n                **(args.props.get(\"labels\", {})),\n            }\n            return pulumi.ResourceTransformResult(props=args.props, opts=args.opts)\n\n        return None\n\n    pulumi.runtime.register_resource_transform(transform)\n</code></pre>"}]}